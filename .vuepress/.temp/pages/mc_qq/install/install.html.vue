<template><div><h1 id="ä½¿ç”¨è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨è¯´æ˜" aria-hidden="true">#</a> ä½¿ç”¨è¯´æ˜</h1>
<h2 id="ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#ç¯å¢ƒ" aria-hidden="true">#</a> ç¯å¢ƒ</h2>
<ul>
<li>
<p><code v-pre>Python 3.10.5</code></p>
<ul>
<li><code v-pre>websockets 10.3</code></li>
</ul>
</li>
<li>
<p><code v-pre>nb-cli 0.6.7</code></p>
<ul>
<li><code v-pre>nonebot-adapter-onebot 2.1.1</code></li>
<li><code v-pre>nonebot2 2.0.0b4</code></li>
<li><code v-pre>nonebot-plugin-guild-patch</code></li>
</ul>
</li>
<li>
<p><code v-pre>OpenJDK 17</code></p>
</li>
<li>
<p><code v-pre>Minecraft 1.18.1</code></p>
</li>
<li>
<p><code v-pre>Spigot 1.18.1</code></p>
</li>
</ul>
<hr>
<h2 id="å®‰è£…é€‰æ‹©" tabindex="-1"><a class="header-anchor" href="#å®‰è£…é€‰æ‹©" aria-hidden="true">#</a> å®‰è£…é€‰æ‹©</h2>
<div class="custom-container tip"><p class="custom-container-title">æ’ä»¶</p>
<ul>
<li>é€‚ç”¨äºæ”¯æŒæ’ä»¶çš„ <code v-pre>Minecraft Server</code></li>
<li><code v-pre>Minecraft Server</code> ä¸ <code v-pre>NoneBot2</code></li>
<li>ç‰¹æ®Šæ¶ˆæ¯å°†è½¬æ¢ä¸ºçº¯æ–‡æœ¬ï¼Œå¦‚ï¼š<code v-pre>[å›¾ç‰‡]</code>ã€<code v-pre>[è§†é¢‘]</code></li>
<li>æ“ä½œç®€å•</li>
</ul>
</div>
<div class="custom-container tip"><p class="custom-container-title">MCRcon + æ’ä»¶</p>
<ul>
<li>é€‚ç”¨äºæ”¯æŒæ’ä»¶çš„ <code v-pre>Minecraft Server</code></li>
<li><code v-pre>Minecraft Server</code> éœ€è¦é…ç½® <code v-pre>Rcon</code></li>
<li>ç‰¹æ®Šæ¶ˆæ¯å¯åœ¨æ¸¸æˆä¸­é€šè¿‡ç‚¹å‡»ï¼Œè·³è½¬åˆ°æµè§ˆå™¨æŸ¥çœ‹</li>
<li>æ“ä½œä¸€èˆ¬</li>
</ul>
</div>
<div class="custom-container tip"><p class="custom-container-title">MCRcon + ç¨‹åºè¯»å–æ—¥å¿—</p>
<ul>
<li>é€‚ç”¨äºä¸æ”¯æŒæ’ä»¶çš„ <code v-pre>Minecraft Server</code></li>
<li><code v-pre>Minecraft Server</code> éœ€è¦é…ç½® <code v-pre>Rcon</code></li>
<li>ç‰¹æ®Šæ¶ˆæ¯å¯åœ¨æ¸¸æˆä¸­é€šè¿‡ç‚¹å‡»ï¼Œè·³è½¬åˆ°æµè§ˆå™¨æŸ¥çœ‹</li>
<li>æ“ä½œè¾ƒä¸ºå¤æ‚</li>
</ul>
</div>
<hr>
<h2 id="å®‰è£…" tabindex="-1"><a class="header-anchor" href="#å®‰è£…" aria-hidden="true">#</a> å®‰è£…</h2>
<h3 id="æ’ä»¶å®‰è£…" tabindex="-1"><a class="header-anchor" href="#æ’ä»¶å®‰è£…" aria-hidden="true">#</a> æ’ä»¶å®‰è£…</h3>
<h4 id="nonebot2-ç«¯" tabindex="-1"><a class="header-anchor" href="#nonebot2-ç«¯" aria-hidden="true">#</a> NoneBot2 ç«¯</h4>
<hr>
<h5 id="pipå®‰è£…" tabindex="-1"><a class="header-anchor" href="#pipå®‰è£…" aria-hidden="true">#</a> pipå®‰è£…</h5>
<CodeGroup>
  <CodeGroupItem title="pip">
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>pip <span class="token function">install</span> nonebot-plugin-mcqq
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>  </CodeGroupItem>
</CodeGroup>
<ul>
<li>åœ¨ <code v-pre>nonebot2</code> é¡¹ç›®ä¸­è®¾ç½® <code v-pre>load_plugin()</code></li>
</ul>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code>nonebot<span class="token punctuation">.</span>load_plugin<span class="token punctuation">(</span><span class="token string">"nonebot_plugin_mcqq"</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr>
<h5 id="nonebot2-æ’ä»¶å•†åº—å®‰è£…" tabindex="-1"><a class="header-anchor" href="#nonebot2-æ’ä»¶å•†åº—å®‰è£…" aria-hidden="true">#</a> NoneBot2 æ’ä»¶å•†åº—å®‰è£…</h5>
<ul>
<li>å®‰è£…æ’ä»¶</li>
</ul>
<CodeGroup>
  <CodeGroupItem title="pip">
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>nb plugin <span class="token function">install</span> nonebot-plugin-mcqq
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>  </CodeGroupItem>
</CodeGroup>
<h5 id="æ‰‹åŠ¨å®‰è£…" tabindex="-1"><a class="header-anchor" href="#æ‰‹åŠ¨å®‰è£…" aria-hidden="true">#</a> æ‰‹åŠ¨å®‰è£…</h5>
<ul>
<li>ä¸‹è½½é¢‘é“é€‚é…è¡¥ä¸ <code v-pre>pip install nonebot-plugin-guild-patch</code></li>
<li>ä¸‹è½½ <code v-pre>nonebot_plugin_mcqq</code> åˆ° <code v-pre>plugins</code> æ–‡ä»¶å¤¹</li>
</ul>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code><span class="token comment"># åœ¨æ­¤å¡«å…¥ WebSocket åœ°å€</span>
<span class="token comment"># ä¸€èˆ¬ä¿®æ”¹åªä¿®æ”¹ç«¯å£å·</span>
ws_url <span class="token operator">=</span> <span class="token string">"ws://localhost:8765"</span>

<span class="token comment"># å¼€å¯åŠŸèƒ½çš„ç¾¤å’Œé¢‘é“åˆ—è¡¨</span>
group_list <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment"># ç¾¤åˆ—è¡¨</span>
    <span class="token string">"group_list"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token comment"># ç¾¤å·</span>
        <span class="token number">123456789</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment"># é¢‘é“åˆ—è¡¨</span>
    <span class="token string">"guild_list"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token comment"># é¢‘é“ ID</span>
            <span class="token string">"guild_id"</span><span class="token punctuation">:</span> <span class="token number">12345678909876543</span><span class="token punctuation">,</span>
            <span class="token comment"># å­é¢‘é“ ID</span>
            <span class="token string">"channel_id"</span><span class="token punctuation">:</span> <span class="token number">1234567</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>ç›®å½•ç»“æ„å‚è€ƒï¼š</li>
</ul>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>ğŸ“¦ test_bot
â”œâ”€â”€ ğŸ“‚ plugins
â”‚   â”œâ”€â”€ ğŸ“‚ nonebot_plugin_mcqq      # mcqq æ’ä»¶
â”‚   â””â”€â”€ ğŸ“‚ nonebot_plugin_guild_patch        # é¢‘é“é€‚é…æ’ä»¶
â”œâ”€â”€ ğŸ“‚ src                 # æˆ–æ˜¯ test_bot
â”‚   â””â”€â”€ ğŸ“œ mc_qq_config.py
â”œâ”€â”€ ğŸ“œ .env                # å¯é€‰çš„
â”œâ”€â”€ ğŸ“œ .env.dev            # å¯é€‰çš„
â”œâ”€â”€ ğŸ“œ .env.prod           # å¯é€‰çš„
â”œâ”€â”€ ğŸ“œ .gitignore
â”œâ”€â”€ ğŸ“œ bot.py
â”œâ”€â”€ ğŸ“œ docker-compose.yml
â”œâ”€â”€ ğŸ“œ Dockerfile
â”œâ”€â”€ ğŸ“œ pyproject.toml
â””â”€â”€ ğŸ“œ README.md
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="minecraft-server" tabindex="-1"><a class="header-anchor" href="#minecraft-server" aria-hidden="true">#</a> Minecraft Server</h4>
<ul>
<li>å°† <code v-pre>MC_QQ.jar</code> æ”¾å…¥ <code v-pre>Minecraft</code> æœåŠ¡å™¨ <code v-pre>plugins</code> æ–‡ä»¶å¤¹</li>
<li>å¯åŠ¨æœåŠ¡å™¨åæ’ä»¶å°†è‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶å¹¶å†™å…¥é»˜è®¤ä¿¡æ¯</li>
<li>é»˜è®¤ä¿¡æ¯å‚è€ƒå¦‚ä¸‹ï¼š</li>
</ul>
<div class="language-yaml ext-yml line-numbers-mode"><pre v-pre class="language-yaml"><code><span class="token comment"># æ˜¯å¦å¯ç”¨æ’ä»¶</span>
<span class="token comment"># é»˜è®¤ä¸º true</span>
<span class="token key atrule">enable_mc_qq</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

<span class="token comment"># è¯·åœ¨å†’å·åå¡«å†™ WebSocket æœåŠ¡çš„åœ°å€ç«¯å£å·ã€‚</span>
<span class="token comment"># åªå¡«å†™æ•°å­—å³å¯ã€‚</span>
<span class="token comment"># å†’å·åéœ€è¦ç©ºä¸€æ ¼ï¼</span>
<span class="token comment"># è‹¥ä¸å¡«å†™ï¼Œåˆ™åœ°å€é»˜è®¤ä¸º 0.0.0.0 ï¼Œç«¯å£é»˜è®¤ä¸º 8765</span>
<span class="token key atrule">websocket_server</span><span class="token punctuation">:</span>
  <span class="token key atrule">address</span><span class="token punctuation">:</span> <span class="token string">"0.0.0.0"</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token string">"8765"</span>

<span class="token comment"># å‘é€åˆ°ç¾¤æ¶ˆæ¯ä¸­ï¼Œç©å®¶æ˜µç§°ä¸æ¶ˆæ¯ä¹‹é—´çš„ç¬¦å·</span>
<span class="token comment"># é»˜è®¤ä¸ºä¸­æ–‡å†’å· â€œï¼šâ€</span>
<span class="token comment"># ä¾‹å¦‚ï¼š</span>
<span class="token comment">#   17TheWord ï¼š ä½ å¥½</span>
<span class="token key atrule">say_way</span><span class="token punctuation">:</span> <span class="token string">"è¯´ï¼š"</span>

<span class="token comment"># æ˜¯å¦å¯ç”¨ åŠ å…¥/ç¦»å¼€ æœåŠ¡å™¨ç›‘å¬</span>
<span class="token comment"># å¼€å¯åï¼Œå½“ç©å®¶ åŠ å…¥/ç¦»å¼€ æœåŠ¡å™¨æ—¶ï¼ŒBotä¼šéšæ¨é€ä¿¡æ¯</span>
<span class="token comment"># é»˜è®¤æ‰“å¼€</span>
<span class="token comment"># ä¾‹å¦‚ï¼š</span>
<span class="token comment">#   17TheWord åŠ å…¥äº†æœåŠ¡å™¨</span>
<span class="token comment">#   17TheWord ç¦»å¼€äº†æœåŠ¡å™¨</span>
<span class="token key atrule">join_quit</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr>
<h2 id="å®Œæˆ" tabindex="-1"><a class="header-anchor" href="#å®Œæˆ" aria-hidden="true">#</a> å®Œæˆ</h2>
<p>å¦‚æœä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œåˆ°è¿™é‡Œä½ çš„æ¶ˆæ¯äº’é€šå·²ç»æ­å»ºå®Œæˆäº†ã€‚</p>
</div></template>
